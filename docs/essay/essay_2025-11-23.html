<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-11-23">

<title>what is riki thinking for thanksgiving? – riki’s site</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-5b4ad623e5705c0698d39aec6f10cf02.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">riki’s site</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../02_articles.html"> 
<span class="menu-text">articles &amp; papers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../01_projects.html"> 
<span class="menu-text">projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../essay/index_essay.html"> 
<span class="menu-text">essays</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../cdb/index_cdb.html"> 
<span class="menu-text">ChatGPT’s daily brief</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#menu" id="toc-menu" class="nav-link active" data-scroll-target="#menu">Menu!</a>
  <ul class="collapse">
  <li><a href="#side-dishes" id="toc-side-dishes" class="nav-link" data-scroll-target="#side-dishes">1. <strong>Side Dishes</strong></a></li>
  <li><a href="#breakfast" id="toc-breakfast" class="nav-link" data-scroll-target="#breakfast">2. <strong>Breakfast</strong></a></li>
  <li><a href="#drinks-cocktails" id="toc-drinks-cocktails" class="nav-link" data-scroll-target="#drinks-cocktails">3. <strong>Drinks &amp; Cocktails</strong></a></li>
  </ul></li>
  <li><a href="#shopping-list" id="toc-shopping-list" class="nav-link" data-scroll-target="#shopping-list">Shopping List</a>
  <ul class="collapse">
  <li><a href="#produce" id="toc-produce" class="nav-link" data-scroll-target="#produce">Produce</a></li>
  <li><a href="#pantry" id="toc-pantry" class="nav-link" data-scroll-target="#pantry">Pantry</a></li>
  <li><a href="#rice" id="toc-rice" class="nav-link" data-scroll-target="#rice">Rice</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">what is riki thinking for thanksgiving?</h1>
<p class="subtitle lead">a few Thanksgiving recipes with a personal twist</p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 23, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="menu" class="level2">
<h2 class="anchored" data-anchor-id="menu">Menu!</h2>
<section id="side-dishes" class="level3">
<h3 class="anchored" data-anchor-id="side-dishes">1. <strong>Side Dishes</strong></h3>
<p>Classic sides!</p>
<ul>
<li><strong>Mashed bluish potatoes</strong>
<ul>
<li>Ingredients:
<ul>
<li>2 lb. medium Yukon Gold potatoes, scrubbed</li>
<li>2 lb. medium Adirondack Blue potatoes, scrubbed</li>
<li>4 tsp. Diamond Crystal or 2½ tsp. Morton kosher salt, plus more</li>
<li>1½ cups whole milk</li>
<li>½ cup heavy cream</li>
<li>1 head of garlic, halved crosswise</li>
<li>3 sprigs rosemary</li>
<li>1 cup (2 sticks) unsalted butter, room temperature, cut into pieces</li>
<li>Freshly ground black pepper</li>
</ul></li>
<li>Prep/Assembly Instructions:
<ul>
<li>Place 4 lb. of potatoes, scrubbed, in a large pot and pour in cold water to cover by 1”. Add a large handful of kosher salt (water should taste briny, like the ocean) and bring to a boil on the stovetop over high heat. Reduce heat and simmer until potatoes are fork-tender (very tender but not crumbly, 30–35 minutes). Drain, briefly rinse with cool water to remove any excess starch, and return potatoes to warm pot (off heat) to dry while you heat the milk mixture.</li>
<li>Warm 1½ cups whole milk, ½ cup heavy cream, 1 head of garlic, halved crosswise, and 3 sprigs rosemary in a small saucepan over medium until fragrant, about 5 minutes. Remove pan from heat.</li>
<li>Pass hot potatoes through ricer or food mill into a large bowl (cold potatoes will become gummy; ricer will catch potato skins, remove and discard as needed if they start to block grate). Add 1 cup (2 sticks) unsalted butter, room temperature, cut into pieces, and 4 tsp. Diamond Crystal or 2½ tsp. Morton kosher salt and stir until butter is completely incorporated. Strain warm milk mixture through a fine-mesh sieve into a large measuring glass. Pour into potatoes ½-cupful at a time, stirring after each addition until liquid is fully incorporated and mixture is smooth before adding more.</li>
<li>Serve mashed potatoes topped with a few grinds of freshly ground black pepper.</li>
</ul></li>
<li>Notes: I used a modified version of the <a href="https://www.bonappetit.com/recipe/best-mashed-potatoes">“Our Best Ever Mashed Potatoes”</a>.</li>
</ul></li>
<li><strong>riki’s pickled cabbage slaw</strong>
<ul>
<li>Ingredients:
<ul>
<li>1 lb of saurkraut</li>
<li>half a head of purple cabbage</li>
<li>dashi powder</li>
<li>mirin</li>
<li>brown sugar</li>
<li>fish sauce</li>
<li>kewpie mayonnaise</li>
<li>Gochugaru (korean chilis)</li>
</ul></li>
<li>Prep/Assembly Instructions:
<ul>
<li>Cut and dice the purple cabbage, then rinse a few times under cold water.</li>
<li>Pour the saurkraut into a pot, then gently warm. Pour the purple cabbage into the pot.</li>
<li>While the saurkraut and the purple cabbage are gently cooked, add brown sugar, dashi powder, mirin, fish sauce, and gochugaru to taste.</li>
<li>Once the purple cabbage is gently cooked, turn heat off and leave to cool.</li>
<li>Add kewpie mayonnaise and serve!</li>
</ul></li>
<li>Notes: a blend of Pennsylvania dutch cuisine (saurkraut), and Thai/Japanese/Korean flavours. A personal creation!</li>
</ul></li>
</ul>
<hr>
</section>
<section id="breakfast" class="level3">
<h3 class="anchored" data-anchor-id="breakfast">2. <strong>Breakfast</strong></h3>
<p>Tasty breakfast options…</p>
<section id="a.-miso-butter-onigiri-vegetarian" class="level4">
<h4 class="anchored" data-anchor-id="a.-miso-butter-onigiri-vegetarian"><strong>A. Miso-Butter Onigiri (Vegetarian)</strong></h4>
<ul>
<li><strong>Filling Ingredients:</strong>
<ul>
<li>White miso<br>
</li>
<li>Softened butter<br>
</li>
<li>Scallions (finely sliced)<br>
</li>
</ul></li>
<li><strong>Rice Type:</strong> Japanese short-grain rice<br>
</li>
<li><strong>Seasoning:</strong> Light sprinkle of salt on hands before shaping<br>
</li>
<li><strong>Notes:</strong>
<ul>
<li>Pan-sear lightly after shaping for golden edges.<br>
</li>
<li>Add a small square of nori on the bottom.</li>
</ul></li>
</ul>
</section>
<section id="b.-umeboshi-pickled-plum-onigiri" class="level4">
<h4 class="anchored" data-anchor-id="b.-umeboshi-pickled-plum-onigiri"><strong>B. Umeboshi (Pickled Plum) Onigiri</strong></h4>
<ul>
<li><strong>Filling Ingredients:</strong>
<ul>
<li>1–2 umeboshi plums, pit removed, mashed<br>
</li>
</ul></li>
<li><strong>Rice Type:</strong> Japanese short-grain rice<br>
</li>
<li><strong>Seasoning:</strong> Sesame seeds on outside<br>
</li>
<li><strong>Notes:</strong>
<ul>
<li>Tart, bright, and traditional.<br>
</li>
<li>Great to balance heavy Thanksgiving dishes.</li>
</ul></li>
</ul>
</section>
<section id="c.-shiitake-soy-glaze-onigiri" class="level4">
<h4 class="anchored" data-anchor-id="c.-shiitake-soy-glaze-onigiri"><strong>C. Shiitake &amp; Soy Glaze Onigiri</strong></h4>
<ul>
<li><strong>Filling Ingredients:</strong>
<ul>
<li>Sauteed shiitake mushrooms<br>
</li>
<li>1 tsp soy sauce<br>
</li>
<li>Mirin (optional)<br>
</li>
<li>A dash of sugar or maple syrup<br>
</li>
</ul></li>
<li><strong>Rice Type:</strong> White or mixed-grain rice<br>
</li>
<li><strong>Seasoning:</strong> Furikake sprinkled inside or outside<br>
</li>
<li><strong>Notes:</strong>
<ul>
<li>Earthy and umami-rich.<br>
</li>
<li>Works well warmed or cold.</li>
</ul></li>
</ul>
<hr>
</section>
</section>
<section id="drinks-cocktails" class="level3">
<h3 class="anchored" data-anchor-id="drinks-cocktails">3. <strong>Drinks &amp; Cocktails</strong></h3>
<ul>
<li><strong>Stappi Apperitivo red bitters</strong>
<ul>
<li>Description: delicious non-alcoholic options</li>
</ul></li>
</ul>
<hr>
</section>
</section>
<section id="shopping-list" class="level2">
<h2 class="anchored" data-anchor-id="shopping-list">Shopping List</h2>
<section id="produce" class="level3">
<h3 class="anchored" data-anchor-id="produce">Produce</h3>
<ul>
<li>Shiitake mushrooms<br>
</li>
<li>Umeboshi<br>
</li>
<li>Scallions</li>
</ul>
</section>
<section id="pantry" class="level3">
<h3 class="anchored" data-anchor-id="pantry">Pantry</h3>
<ul>
<li>Soy sauce<br>
</li>
<li>Mirin<br>
</li>
<li>Sesame seeds<br>
</li>
<li>Nori sheets<br>
</li>
<li>White miso</li>
</ul>
</section>
<section id="rice" class="level3">
<h3 class="anchored" data-anchor-id="rice">Rice</h3>
<ul>
<li>Japanese short-grain white rice</li>
</ul>
<hr>


</section>
</section>

</main> <!-- /main -->
<hr style="margin-top:2em;margin-bottom:1em;">

<p><strong>Disclaimer:</strong> This essay/blog contains my own views and do not reflect my employer. My essays may contain errors, omissions, or outdated information. It is provided “as is,” without warranties of any kind, express or implied. The essays are not investment, legal, security, or policy advice and must not be relied upon for decision-making. You are responsible for independently verifying facts and conclusions. The author does not accept any liability for losses or harms arising from use of this content. No duty to update is assumed.</p>


<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>