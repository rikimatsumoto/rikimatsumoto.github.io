<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-12-22">

<title>ChatGPT Daily Brief (CDB) – riki’s site</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-5b4ad623e5705c0698d39aec6f10cf02.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">riki’s site</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../02_articles.html"> 
<span class="menu-text">articles &amp; papers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../01_projects.html"> 
<span class="menu-text">projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../essay/index_essay.html"> 
<span class="menu-text">essays</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../cdb/index_cdb.html"> 
<span class="menu-text">LLM’s daily brief</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#lead-assessment" id="toc-lead-assessment" class="nav-link active" data-scroll-target="#lead-assessment">Lead Assessment</a></li>
  <li><a href="#regional-spotlights" id="toc-regional-spotlights" class="nav-link" data-scroll-target="#regional-spotlights">Regional Spotlights</a>
  <ul class="collapse">
  <li><a href="#levant-israellebanon" id="toc-levant-israellebanon" class="nav-link" data-scroll-target="#levant-israellebanon">Levant | Israel–Lebanon</a></li>
  <li><a href="#black-sea-ukrainerussia" id="toc-black-sea-ukrainerussia" class="nav-link" data-scroll-target="#black-sea-ukrainerussia">Black Sea | Ukraine–Russia</a></li>
  <li><a href="#indo-pacific-south-china-sea-philippines" id="toc-indo-pacific-south-china-sea-philippines" class="nav-link" data-scroll-target="#indo-pacific-south-china-sea-philippines">Indo-Pacific | South China Sea / Philippines</a></li>
  <li><a href="#latin-america-venezuela" id="toc-latin-america-venezuela" class="nav-link" data-scroll-target="#latin-america-venezuela">Latin America | Venezuela</a></li>
  <li><a href="#africa-sahelhornsudan" id="toc-africa-sahelhornsudan" class="nav-link" data-scroll-target="#africa-sahelhornsudan">Africa | Sahel–Horn–Sudan</a></li>
  </ul></li>
  <li><a href="#watch-items-next-2472-hours" id="toc-watch-items-next-2472-hours" class="nav-link" data-scroll-target="#watch-items-next-2472-hours">Watch Items (Next 24–72 hours)</a></li>
  <li><a href="#annex-business-financial-indicators-implications" id="toc-annex-business-financial-indicators-implications" class="nav-link" data-scroll-target="#annex-business-financial-indicators-implications">Annex — Business &amp; Financial Indicators &amp; Implications</a>
  <ul class="collapse">
  <li><a href="#sanctions-energy-logistics" id="toc-sanctions-energy-logistics" class="nav-link" data-scroll-target="#sanctions-energy-logistics">Sanctions &amp; Energy Logistics</a></li>
  <li><a href="#macro-context-imf" id="toc-macro-context-imf" class="nav-link" data-scroll-target="#macro-context-imf">Macro Context (IMF)</a></li>
  <li><a href="#analytical-context-cipher-brief" id="toc-analytical-context-cipher-brief" class="nav-link" data-scroll-target="#analytical-context-cipher-brief">Analytical Context (Cipher Brief)</a></li>
  </ul></li>
  <li><a href="#top-coverage-links" id="toc-top-coverage-links" class="nav-link" data-scroll-target="#top-coverage-links">Top Coverage Links</a></li>
  <li><a href="#confidence-scale" id="toc-confidence-scale" class="nav-link" data-scroll-target="#confidence-scale">Confidence Scale</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ChatGPT Daily Brief (CDB)</h1>
<p class="subtitle lead">Open-Source Intelligence Edition — PDB Style</p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 22, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="lead-assessment" class="level2">
<h2 class="anchored" data-anchor-id="lead-assessment">Lead Assessment</h2>
<p><strong>U.S.–Venezuela tanker interdictions widen into an international dispute with China; oil logistics and sanctions compliance risk rise.</strong></p>
<ul>
<li>China condemned the U.S. seizure/interception of a China-bound tanker carrying Venezuelan crude as a “serious violation of international law,” while Venezuela labelled the act “international piracy.” <a href="https://www.reuters.com/world/china/china-says-us-seizure-ships-serious-violation-international-law-2025-12-22/">Reuters, 22 Dec 2025</a><br>
</li>
<li>Separate reporting indicates Venezuelan tanker loading slowed and flows shifted toward domestic port-to-port movements amid U.S. actions and PDVSA disruption from a cyberattack. <a href="https://www.reuters.com/business/energy/oil-loading-venezuela-slows-more-ships-make-u-turns-after-new-us-interceptions-2025-12-22/">Reuters, 22 Dec 2025</a></li>
</ul>
<p>Washington is likely using maritime interdiction to impose immediate commercial pain on PDVSA-linked exports and deter sanctions evasion; Beijing is likely to respond primarily through diplomatic pressure and commercial workarounds rather than direct confrontation. <strong>Confidence: Moderate–High.</strong></p>
<hr>
</section>
<section id="regional-spotlights" class="level2">
<h2 class="anchored" data-anchor-id="regional-spotlights">Regional Spotlights</h2>
<section id="levant-israellebanon" class="level3">
<h3 class="anchored" data-anchor-id="levant-israellebanon">Levant | Israel–Lebanon</h3>
<ul>
<li><strong>What happened:</strong> Three people were reported killed after an Israeli air strike targeted a vehicle in the Sidon district of southern Lebanon. <a href="https://www.reuters.com/world/middle-east/israeli-air-strike-kills-three-southern-lebanon-state-news-agency-says-2025-12-22/">Reuters, 22 Dec 2025</a><br>
</li>
<li><strong>Assessment:</strong> Israel will continue precision strikes on suspected militant nodes to shape the threat environment while attempting to avoid a broader, sustained Lebanese-front escalation. Retaliatory responses by Hezbollah-linked elements remain plausible, but a deliberate move to general war appears <strong>unlikely</strong> absent mass-casualty triggers. <strong>Confidence: Moderate.</strong></li>
<li><strong>Watch indicators (24–72h):</strong> UNIFIL public statements; Israeli evacuation warnings; retaliatory rocket/drone probes; maritime risk advisories for Eastern Med shipping.</li>
</ul>
</section>
<section id="black-sea-ukrainerussia" class="level3">
<h3 class="anchored" data-anchor-id="black-sea-ukrainerussia">Black Sea | Ukraine–Russia</h3>
<ul>
<li><strong>Operations (ISW):</strong> ISW’s 22 Dec assessment highlights ongoing Russian offensive activity and reporting issues shaping Moscow’s battlefield picture. <a href="https://understandingwar.org/research/russia-ukraine/russian-offensive-campaign-assessment-december-22-2025/">ISW, 22 Dec 2025</a><br>
</li>
<li><strong>Information environment:</strong> The Kremlin rejected a Reuters report that U.S. intelligence assesses Putin seeks to seize all Ukraine and reclaim parts of Europe; Moscow called the characterization “not true.” <a href="https://www.reuters.com/world/europe/kremlin-says-us-intelligence-perception-putins-aims-reported-by-reuters-is-wrong-2025-12-22/">Reuters, 22 Dec 2025</a><br>
</li>
<li><strong>Assessment:</strong> Russia is likely to sustain winter pressure on Ukrainian energy/logistics and seek negotiating leverage through incremental gains and coercive messaging. The probability of a near-term decisive battlefield shift remains <strong>low</strong>. <strong>Confidence: High (trend), Moderate (timelines).</strong></li>
<li><strong>Business/financial implications:</strong> Continued volatility risk for Black Sea logistics (grain/fertiliser), elevated insurance premia for high-risk routes, and persistent European defence-industrial tailwinds.</li>
</ul>
</section>
<section id="indo-pacific-south-china-sea-philippines" class="level3">
<h3 class="anchored" data-anchor-id="indo-pacific-south-china-sea-philippines">Indo-Pacific | South China Sea / Philippines</h3>
<ul>
<li><strong>Recent pattern:</strong> Reporting in mid-December described injuries to Filipino fishermen and vessel damage near Sabina Shoal during encounters involving Chinese coast guard actions; Beijing rejected Manila’s account. <a href="https://www.reuters.com/world/china/china-says-philippines-distorted-facts-about-incident-near-disputed-atoll-2025-12-17/">Reuters, 17 Dec 2025</a><br>
</li>
<li><strong>Assessment:</strong> Miscalculation risk remains structurally high due to close-quarters enforcement and competing narratives. A major escalation is <strong>unlikely</strong> in the next 72 hours, but low-level coercive incidents remain <strong>likely</strong>. <strong>Confidence: Moderate.</strong></li>
<li><strong>Business implications:</strong> Persistent risk premia for Luzon-adjacent lanes; elevated insurance and security costs for operators near disputed features.</li>
</ul>
</section>
<section id="latin-america-venezuela" class="level3">
<h3 class="anchored" data-anchor-id="latin-america-venezuela">Latin America | Venezuela</h3>
<ul>
<li><strong>Operational picture:</strong> U.S. actions against tankers are already constraining Venezuela’s loading activity and forcing re-routing/turnarounds. <a href="https://www.reuters.com/business/energy/oil-loading-venezuela-slows-more-ships-make-u-turns-after-new-us-interceptions-2025-12-22/">Reuters, 22 Dec 2025</a><br>
</li>
<li><strong>Assessment:</strong> PDVSA will attempt to adapt through re-flagging, intermediaries, ship-to-ship transfers, and altered routing; enforcement pressure is likely to persist, raising compliance risk for traders and insurers. <strong>Confidence: High.</strong></li>
<li><strong>Business implications:</strong> Higher counterparty and sanctions-screening burden; potential output curtailment if storage constraints tighten.</li>
</ul>
</section>
<section id="africa-sahelhornsudan" class="level3">
<h3 class="anchored" data-anchor-id="africa-sahelhornsudan">Africa | Sahel–Horn–Sudan</h3>
<ul>
<li><strong>Status:</strong> No single dominant, verified inflection point emerged in major OSINT wires overnight for Sahel–Horn–Sudan.<br>
</li>
<li><strong>Assessment:</strong> Structural instability remains elevated and prone to sudden local escalation. <strong>Confidence: Low–Moderate.</strong></li>
<li><strong>Watch indicators:</strong> major displacement spikes; corridor closures; sanctions moves; UN/OCHA access updates.</li>
</ul>
<hr>
</section>
</section>
<section id="watch-items-next-2472-hours" class="level2">
<h2 class="anchored" data-anchor-id="watch-items-next-2472-hours">Watch Items (Next 24–72 hours)</h2>
<ol type="1">
<li><strong>Venezuela maritime enforcement</strong> — further U.S. interdictions or countermeasures; changes to tanker routing and loading rates. <em>(Moderate confidence)</em><br>
</li>
<li><strong>Israel–Lebanon strike-response cycle</strong> — localized retaliation or expanded strike geography. <em>(Moderate confidence)</em><br>
</li>
<li><strong>Ukraine winter targeting</strong> — major grid/logistics strikes, especially around key nodes. <em>(High confidence on risk; Moderate on location/timing)</em><br>
</li>
<li><strong>South China Sea incident cadence</strong> — coercive encounters around Sabina/Scarborough; escalatory messaging. <em>(Moderate confidence)</em><br>
</li>
<li><strong>Market reaction</strong> — shipping/insurance spreads and crude differentials reflecting sanctions and corridor risk. <em>(Moderate confidence)</em></li>
</ol>
<hr>
</section>
<section id="annex-business-financial-indicators-implications" class="level2">
<h2 class="anchored" data-anchor-id="annex-business-financial-indicators-implications">Annex — Business &amp; Financial Indicators &amp; Implications</h2>
<section id="sanctions-energy-logistics" class="level3">
<h3 class="anchored" data-anchor-id="sanctions-energy-logistics">Sanctions &amp; Energy Logistics</h3>
<ul>
<li>The U.S.–Venezuela interdiction campaign is likely to reduce effective export capacity and raise shipment friction costs. <a href="https://www.reuters.com/business/energy/oil-loading-venezuela-slows-more-ships-make-u-turns-after-new-us-interceptions-2025-12-22/">Reuters, 22 Dec 2025</a><br>
</li>
<li>Near-term price impacts likely to be muted if global supply is ample, but compliance risk and freight premia are likely to rise. <strong>Confidence: Moderate.</strong></li>
</ul>
</section>
<section id="macro-context-imf" class="level3">
<h3 class="anchored" data-anchor-id="macro-context-imf">Macro Context (IMF)</h3>
<ul>
<li>The IMF’s October 2025 WEO emphasizes downside risks from uncertainty, protectionism, fiscal vulnerabilities, and potential financial-market corrections. <a href="https://www.imf.org/en/publications/weo/issues/2025/10/14/world-economic-outlook-october-2025">IMF WEO, Oct 2025</a><br>
</li>
<li>Current dynamics (sanctions enforcement, trade friction, corridor risk) align with those downside channels. <strong>Confidence: High.</strong></li>
</ul>
</section>
<section id="analytical-context-cipher-brief" class="level3">
<h3 class="anchored" data-anchor-id="analytical-context-cipher-brief">Analytical Context (Cipher Brief)</h3>
<ul>
<li>Cipher Brief reporting has tracked Venezuela blockade/interdiction dynamics and the broader security posture in the Caribbean theatre. <a href="https://www.thecipherbrief.com/report/global-intelligence-report-for-wednesday-december-17-2025">Cipher Brief, 17 Dec 2025</a><br>
</li>
<li>Cipher Brief background on Russia’s shadow fleet and sanctions evasion remains relevant for assessing maritime risk and compliance exposure. <a href="https://www.thecipherbrief.com/russias-billion-dollar-shadow-fleet">Cipher Brief, Feb 2025</a></li>
</ul>
<hr>
</section>
</section>
<section id="top-coverage-links" class="level2">
<h2 class="anchored" data-anchor-id="top-coverage-links">Top Coverage Links</h2>
<ul>
<li>China condemns U.S. seizure of China-bound Venezuelan crude tanker (Reuters)<br>
</li>
<li>Oil loading in Venezuela slows after new U.S. interceptions (Reuters)<br>
</li>
<li>Israeli air strike kills three in southern Lebanon (Reuters)<br>
</li>
<li>Kremlin disputes U.S. intelligence assessment reported by Reuters (Reuters)<br>
</li>
<li>ISW Russian Offensive Campaign Assessment (22 Dec)</li>
</ul>
<hr>
</section>
<section id="confidence-scale" class="level2">
<h2 class="anchored" data-anchor-id="confidence-scale">Confidence Scale</h2>
<ul>
<li><strong>High:</strong> Multiple credible, independent sources; direct statements or consistent indicators.<br>
</li>
<li><strong>Moderate:</strong> Credible reporting but incomplete visibility or rapidly evolving conditions.<br>
</li>
<li><strong>Low:</strong> Fragmentary reporting, limited corroboration, or early-stage claims.</li>
</ul>


</section>

</main> <!-- /main -->
<hr style="margin-top:2em;margin-bottom:1em;">

<p><strong>Disclaimer:</strong> The LLM Daily Brief (LDB), or any Special Brief (SB) is automatically generated from open-source material and may contain errors, omissions, or outdated information. It is provided “as is,” without warranties of any kind, express or implied. The LDB/SB is not investment, legal, security, or policy advice and must not be relied upon for decision-making. You are responsible for independently verifying facts and conclusions with primary sources and qualified professionals. Neither the author nor providers of this service accept any liability for losses or harms arising from use of this content. No duty to update is assumed.</p>


<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>